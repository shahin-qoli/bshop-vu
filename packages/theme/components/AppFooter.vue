<template>
  <footer>
    <div class="footer-jump">
      <a href="#">
        <span class="footer-jump-angle"
          ><i class="fa fa-angle-up"></i>برگشت به بالا</span
        >
      </a>
    </div>

    <div class="container">
      <div class="footer-inner-box">
        <a href="#" class="footer-badge">
          <img src="assets/images/footer-svg/delivery.svg" alt="badge" />
          <span class="item-feature">تحویل اکسپرس</span>
        </a>

        <a href="#" class="footer-badge">
          <img src="assets/images/footer-svg/contact-us.svg" alt="badge" />
          <span class="item-feature">پشتیبانی 24 ساعته</span>
        </a>

        <a href="#" class="footer-badge">
          <img src="assets/images/footer-svg/payment-terms.svg" alt="badge" />
          <span class="item-feature">پرداخت در منزل</span>
        </a>

        <a href="#" class="footer-badge">
          <img src="assets/images/footer-svg/return-policy.svg" alt="badge" />
          <span class="item-feature">7 روز ضمانت برگشت</span>
        </a>

        <a href="#" class="footer-badge">
          <img
            src="assets/images/footer-svg/origin-guarantee.svg"
            alt="badge"
          />
          <span class="item-feature">ضمانت اصل بودن کالا</span>
        </a>
      </div>
    </div>
    <div class="col-12">
      <div class="middle-bar-footer">
        <div class="col-lg-6 col-xs-12 pull-right">
          <div class="footer-links">
            <div class="links-col">
              <a href="#" class="head-line">راهنمای خرید از دیجی‌استور</a>
              <ul class="links-ul">
                <li><a href="#">نحوه ثبت سفارش</a></li>
                <li><a href="#">رویه ارسال سفارش</a></li>
                <li><a href="#">شیوه‌های پرداخت</a></li>
              </ul>
            </div>

            <div class="links-col">
              <a href="#" class="head-line">خدمات مشتریان</a>
              <ul class="links-ul">
                <li><a href="#">پرسش یه پاسخ های متداول</a></li>
                <li><a href="#">رویه های بازگرداندن کالا</a></li>
                <li><a href="#">شرایط استفاده</a></li>
                <li><a href="#">حریم خصوصی</a></li>
                <li><a href="#">گزارش باگ</a></li>
              </ul>
            </div>

            <div class="links-col">
              <a href="#" class="head-line">با دیجی استور</a>
              <ul class="links-ul">
                <li><a href="#">اتاق خبر دیجی استور</a></li>
                <li><a href="#">فروش در دیجی استور</a></li>
                <li><a href="#">فرصت های شغلی</a></li>
                <li><a href="#">تماس با دیجی استور</a></li>
                <li><a href="#">درباره ما دیجی استور</a></li>
              </ul>
            </div>
          </div>
        </div>

        <div class="col-lg-4 col-xs-12 pull-left">
          <div class="footer-form">
            <span class="newslitter-form"
              >از تخفیف‌ها و جدیدترین‌های دیجی‌استور باخبر شوید:
            </span>

            <form action="#">
              <input
                type="text"
                class="input-footer"
                placeholder="آدرس ایمیل خود را وارد کنید"
              />

              <button class="btn-footer-post">ارسال</button>
            </form>
          </div>

          <div class="footer-social">
            <span class="newslitter-form-social"
              >دیجی‌استور را در شبکه‌های اجتماعی دنبال کنید:</span
            >

            <div class="social-links">
              <a href="#"><i class="fa fa-instagram"></i></a>
              <a href="#"><i class="fa fa-twitter"></i></a>
              <a href="#"><i class="fa fa-facebook"></i></a>
              <a href="#"><i class="fa fa-linkedin-square"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12">
      <div class="footer-address">
        <div class="footer-contact">
          <ul>
            <li>هفت روز هفته ، ۲۴ ساعت شبانه‌روز پاسخگوی شما هستیم</li>
            <li style="float: right">
              شماره تماس :
              <a href="#" class="phone-contact"
                >۶۱۹۳۰۰۰۰ - ۰۲۱ ، ۹۵۱۱۹۰۹۵ - ۰۲۱</a
              >
            </li>
            <li class="email-title">
              آدرس ایمیل : <a href="#">info@digistore.com</a>
            </li>
          </ul>
        </div>

        <div class="address-images">
          <a href="#">
            <img src="assets/images/footer-img/1090a120.png" alt="address" />
            <img src="assets/images/footer-img/71abe5c9.png" alt="address" />
          </a>
        </div>
      </div>
    </div>

    <div class="more-info">
      <div class="col-12">
        <div class="about-site">
          <h1>فروشگاه اینترنتی دیجی‌استور بررسی، انتخاب و خرید آنلاین</h1>
          <p>
            دیجی‌استور به عنوان یکی از قدیمی‌ترین فروشگاه های اینترنتی با بیش
            از یک دهه تجربه، با پایبندی به سه اصل، پرداخت در محل، 7 روز ضمانت
            بازگشت کالا و تضمین اصل‌بودن کالا موفق شده تا همگام با فروشگاه‌های
            معتبر جهان، به بزرگ‌ترین فروشگاه اینترنتی ایران تبدیل شود. به محض
            ورود به سایت دیجی‌استور با دنیایی از کالا رو به رو می‌شوید! هر
            آنچه که نیاز دارید و به ذهن شما خطور می‌کند در اینجا پیدا خواهید
            کرد.
          </p>

          <div class="footer-inner-box">
            <a href="#" class="footer-badge">
              <img
                src="assets/images/footer-svg/footer-1.svg"
                style="width: 130px !important"
                alt="badge"
              />
            </a>

            <a href="#" class="footer-badge">
              <img
                src="assets/images/footer-svg/footer-2.svg"
                style="width: 130px !important"
                alt="badge"
              />
            </a>

            <a href="#" class="footer-badge">
              <img
                src="assets/images/footer-svg/footer-3.svg"
                style="width: 130px !important"
                alt="badge"
              />
            </a>

            <a href="#" class="footer-badge">
              <img
                src="assets/images/footer-svg/footer-4.svg"
                style="width: 130px !important"
                alt="badge"
              />
            </a>
            <a href="#" class="footer-badge">
              <img
                src="assets/images/footer-svg/footer-5.svg"
                style="width: 130px !important"
                alt="badge"
              />
            </a>
          </div>
        </div>

        <div class="copy-right-footer">
          <p>
            استفاده از مطالب فروشگاه اینترنتی دیجی‌استور فقط برای مقاصد
            غیرتجاری و با ذکر منبع بلامانع است. کلیه حقوق این سایت متعلق به
            شرکت نوآوران فن آوازه (فروشگاه آنلاین دیجی‌استور) می‌باشد.
          </p>
        </div>
      </div>
    </div>
  <SfFooter v-if="false && !menu.isDisabled" :column="parseInt(menuSize)" multiple class="footer">
    <SfFooterColumn
      v-for="(column, i) in menu && menu.items"
      :key="i"
      :title="column.name"
    >
      <SfList>
        <SfListItem
          v-for="(footerItem, j) in column.items"
          :key="j">
          <SfMenuItem
            :label="footerItem.name"
            :link="localePath(footerItem.link)"
          />
        </SfListItem>
      </SfList>
    </SfFooterColumn>
  </SfFooter>
  <SfFooter v-else-if="false" :column="4" multiple class="footer">
    <SfFooterColumn :title="$t('About us')">
      <SfList>
        <SfListItem
          v-for="item in aboutUs"
          :key="item"
          >
          <SfMenuItem
            :label="$t(item)"
          />
        </SfListItem>
      </SfList>
    </SfFooterColumn>
    <SfFooterColumn :title="$t('Departments')">
      <SfList>
        <SfListItem
          v-for="item in departments"
          :key="item"
        >
          <SfMenuItem
            :label="$t(item)"
          />
        </SfListItem>
      </SfList>
    </SfFooterColumn>
    <SfFooterColumn :title="$t('Help')">
      <SfList>
        <SfListItem
          v-for="item in help"
          :key="item"
        >
          <SfMenuItem
            :label="$t(item)"
          />
        </SfListItem>
      </SfList>
    </SfFooterColumn>
    <SfFooterColumn :title="$t('Payment & Delivery')">
      <SfList>
        <SfListItem
          v-for="item in paymentsDelivery"
          :key="item"
        >
          <SfMenuItem
            :label="$t(item)"
          />
        </SfListItem>
      </SfList>
    </SfFooterColumn>
    <SfFooterColumn title="Social">
      <div class="footer__socials">
        <SfImage class="footer__social-image" v-for="item in social" :key="item" :src="'/icons/'+item+'.svg'" :alt="item" width="32" height="32" />
      </div>
    </SfFooterColumn>
  </SfFooter>
  </footer>
</template>

<script>
import { SfFooter, SfList, SfImage, SfMenuItem } from '@storefront-ui/vue';
import { onMounted, ref} from '@nuxtjs/composition-api';
import { useMenus } from '@vue-storefront/spree';
import { onSSR } from '@vue-storefront/core';

export default {
  components: {
    SfFooter,
    SfList,
    SfImage,
    SfMenuItem
  },
  data() {
    return {
      aboutUs: ['Who we are', 'Quality in the details', 'Customer Reviews'],
      departments: ['Women fashion', 'Men fashion', 'Kidswear', 'Home'],
      help: ['Customer service', 'Size guide', 'Contact us'],
      paymentsDelivery: ['Purchase terms', 'Guarantee'],
      social: ['facebook', 'pinterest', 'google', 'twitter', 'youtube'],
      isMobile: false,
      desktopMin: 1024
    };
  },
  setup(props, context) {
    const { menu, loadMenu } = useMenus('footer');
    const menuSize = ref({});
    const { locale } = context.root.$i18n;

    onMounted(() => menuSize.value = menu.value?.items?.length || 0);

    onSSR(async () => {
      await loadMenu({menuType: 'footer', menuName: 'Footer menu', locale: locale});
    });

    return {
      menu,
      menuSize
    };
  }
};
</script>

<style lang="scss">

.footer {
  margin-bottom: 3.75rem;
  @include for-desktop {
    margin-bottom: 0;
  }
  &__socials {
    display: flex;
    justify-content: space-between;
    margin: 0 auto var(--spacer-lg);
    padding: var(--spacer-base) var(--spacer-xl);
    @include for-desktop {
      justify-content: flex-start;
      padding: var(--spacer-xs) 0;
      margin: 0 auto;
    }
  }
  &__social-image {
    margin: 0 var(--spacer-2xs) 0 0;
  }
}
.sf-footer {
  @include for-desktop {
    border-top: var(--spacer-xs) solid var(--c-primary);
    padding-bottom: 0;
    margin-top: var(--spacer-2xl);
  }
  &__container {
    margin: var(--spacer-sm);
    @include for-desktop {
      max-width: 69rem;
      margin: 0 auto;
    }
  }
}
</style>
